<div id="anuncios" class="carousel slide w-screen h-screen overflow-hidden bg-black" data-bs-ride="carousel">
  <div class="carousel-indicators">
    {% for anuncio in anuncios %}
      <button
        type="button"
        data-bs-target="#anuncios"
        data-bs-slide-to="{{ forloop.counter0 }}"
        {% if forloop.counter0 == 0 %}
          class="active"
        {% endif %}
      ></button>
    {% endfor %}
  </div>
  <div class="carousel-inner">
    {% for anuncio in anuncios %}
    <div class="carousel-item {% if not highlight.title and not highlight.description %}carousel-item-no-description{% endif %} h-100 {% if forloop.counter0 == 0 %}active{% endif %}" data-bs-interval="{% widthratio anuncio.tempo 1 1000 %}">
      <a href="/pesquisa">
        <img
          class="background-img"
          src="/{{ anuncio.imagem }}"
        />
        <img src="/{{ anuncio.imagem }}" class="d-block w-100 h-100 object-fit-contain">
      </a>
      <div class="carousel-caption d-none d-md-block">
        <h5>{{ anuncio.nome|default_if_none:'' }}</h5>
        <p>{{ anuncio.descricao|default_if_none:'' }}</p>
      </div>
    </div>
    {% endfor %}
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#anuncios" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#anuncios" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<script>
  new bootstrap.Carousel('.carousel', { pause: false })
</script>